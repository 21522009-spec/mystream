/* frontend/src/App.css */

/* ============ LIGHT THEME TOKENS ============ */
:root {
    /* Palette */
    --c-white: #ffffff;
    --c-yellow: #fff867;
    --c-red: #fb2f38;
    --c-blue: #2c52b3;
    --c-gray: #5a5b6d;
    /* Map vào theme hiện tại */
    --primary: var(--c-blue);
    --primary-dark: rgba(44, 82, 179, 0.88);
    --bg: var(--c-white);
    --bg-soft: rgba(90, 91, 109, 0.05);
    --bg-card: rgba(255, 255, 255, 0.90);
    --border-subtle: rgba(90, 91, 109, 0.22);
    --text-main: #111827; /* text chính cần đậm để dễ đọc */
    --text-muted: var(--c-gray);
    --error: var(--c-red);
    /* nếu bạn đang dùng theme mecha/gundam */
    --mecha-blue: var(--c-blue);
    --mecha-red: var(--c-red);
    --mecha-yellow: var(--c-yellow);
}

* {
    box-sizing: border-box;
}

html, body,
#root {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    /* nền trắng + overlay mecha svg */
    background-image: url("./assets/mecha-bg.svg"), radial-gradient(circle at top, #ffffff 0, #f1f5f9 55%, #eaf3ff 100%);
    background-size: 900px 900px, cover;
    background-attachment: fixed, fixed;
    background-repeat: repeat, no-repeat;
    color: var(--text-main);
}


body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    color: var(--text-main);
    background: radial-gradient(circle at top, #ffffff 0, #f1f5f9 55%, #eaf3ff 100%);
}

/* ============ APP LAYOUT ============ */
.app {
    height: 100vh;
    display: flex;
    flex-direction: column;
}

.topbar {
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 14px;
    background: rgba(255,255,255,0.9);
    border-bottom: 1px solid var(--border-subtle);
    backdrop-filter: blur(10px);
}

.topbar-left {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo {
    font-weight: 900;
    letter-spacing: 0.12em;
    font-size: 12px;
}

.top-nav {
    display: flex;
    gap: 6px;
    padding: 4px;
    border: 1px solid var(--border-subtle);
    border-radius: 999px;
    background: #ffffff;
}

.nav-item {
    font-size: 12px;
    padding: 7px 10px;
    border-radius: 999px;
    cursor: pointer;
    color: var(--text-muted);
    user-select: none;
}

    .nav-item:hover {
        background: #f1f5f9;
        color: var(--text-main);
    }

    .nav-item.active {
        background: linear-gradient(135deg, rgba(0,170,255,0.18), rgba(0,170,255,0.06));
        border: 1px solid rgba(0,170,255,0.35);
        color: var(--text-main);
    }

.topbar-center {
    flex: 1;
    display: flex;
    justify-content: center;
    padding: 0 12px;
}

.search-input {
    width: min(420px, 100%);
    border-radius: 999px;
    border: 1px solid rgba(2,6,23,0.14);
    padding: 8px 12px;
    font-size: 12px;
    outline: none;
    background: #ffffff;
    color: var(--text-main);
}

    .search-input::placeholder {
        color: #94a3b8;
    }

    .search-input:focus {
        border-color: rgba(0,170,255,0.6);
        box-shadow: 0 0 0 3px rgba(0,170,255,0.18);
    }

.topbar-right {
    display: flex;
    align-items: center;
    gap: 10px;
}

.app-user-label {
    font-size: 12px;
    color: var(--text-muted);
}

.app-logout {
    border-radius: 999px;
    border: 1px solid rgba(2,6,23,0.14);
    background: #ffffff;
    padding: 7px 12px;
    font-size: 12px;
    cursor: pointer;
}

    .app-logout:hover {
        border-color: rgba(0,170,255,0.45);
    }

/* ============ MAIN ============ */
.main {
    flex: 1;
    min-height: 0;
    display: flex;
    background-image: url("./assets/mecha-bg.svg");
    background-repeat: no-repeat;
    background-size: cover; /* phủ kín */
    background-position: center top; /* canh từ trên xuống */
    background-attachment: fixed;
}

.sidebar-left {
    width: 84px;
    border-right: 1px solid var(--border-subtle);
    background: rgba(255,255,255,0.85);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 12px 10px;
    gap: 12px;
}

.sidebar-title {
    font-size: 11px;
    font-weight: 700;
    color: var(--text-muted);
    letter-spacing: 0.2em;
    text-transform: uppercase;
}

.sidebar-avatar-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.avatar-circle {
    width: 42px;
    height: 42px;
    border-radius: 14px;
    background: #f1f5f9;
    border: 1px solid rgba(2,6,23,0.10);
}

    .avatar-circle.online {
        outline: 2px solid rgba(0,170,255,0.45);
        box-shadow: 0 10px 30px rgba(0,170,255,0.18);
    }

.content {
    flex: 1;
    min-width: 0;
    min-height: 0;
    padding: 12px;
    overflow: auto;
}

/* ============ STRIP ============ */
.stream-strip {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 16px;
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    box-shadow: 0 10px 30px rgba(2,6,23,0.06);
}

.strip-left {
    display: flex;
    gap: 10px;
    align-items: center;
}

.strip-avatar {
    width: 42px;
    height: 42px;
    border-radius: 16px;
    background: radial-gradient(circle at 20% 0%, rgba(0,170,255,0.55), rgba(0,170,255,0.10));
    border: 1px solid rgba(0,170,255,0.35);
}

.strip-title {
    font-weight: 800;
    font-size: 14px;
}

.strip-subtitle {
    font-size: 12px;
    color: var(--text-muted);
}

.strip-right {
    display: flex;
    align-items: center;
    gap: 8px;
}

.pill-btn {
    border-radius: 999px;
    border: 1px solid rgba(2,6,23,0.14);
    background: #ffffff;
    padding: 8px 12px;
    font-size: 12px;
    cursor: pointer;
}

    .pill-btn:hover {
        border-color: rgba(0,170,255,0.45);
    }

    .pill-btn.primary {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        border: none;
        color: #04121d;
        font-weight: 800;
    }

/* ============ ROOM VIEW ============ */
.channel-info {
    margin-top: 12px;
    border-radius: 16px;
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    box-shadow: 0 10px 30px rgba(2,6,23,0.06);
    overflow: hidden;
}

.channel-header {
    padding: 10px 12px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    border-bottom: 1px solid var(--border-subtle);
}

.channel-name {
    font-weight: 900;
}

.channel-meta {
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 2px;
}

.channel-panels {
    padding: 12px;
    display: grid;
    grid-template-columns: 1.4fr 1fr;
    gap: 12px;
}

.panel {
    border-radius: 16px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-card);
    box-shadow: 0 10px 30px rgba(2,6,23,0.06);
    padding: 12px;
}

    .panel h2 {
        margin: 0 0 6px;
        font-size: 14px;
    }

    .panel p {
        margin: 0;
        font-size: 12px;
        color: var(--text-muted);
    }

/* video container wrapper (giữ video nền đen) */
.player-wrapper {
    height: 420px;
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid var(--border-subtle);
    background: black;
    position: relative;
}

.player {
    width: 100%;
    height: 100%;
    background: black;
}

.live-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 5;
    background: #ef4444;
    color: white;
    font-weight: 800;
    font-size: 11px;
    padding: 4px 10px;
    border-radius: 999px;
}

.viewer-counter {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 5;
    background: rgba(255,255,255,0.92);
    border: 1px solid rgba(2,6,23,0.14);
    border-radius: 999px;
    padding: 6px 10px;
    font-size: 12px;
    color: var(--text-main);
    box-shadow: 0 10px 30px rgba(2,6,23,0.08);
}

/* reaction floating layer */
.reactionsLayer {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 4;
}

.reactionFloat {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 34px;
    opacity: 0;
    animation: floatUp 1.6s ease-out forwards;
}

@keyframes floatUp {
    0% {
        transform: translate(-50%,0);
        opacity: 0;
    }

    15% {
        opacity: 1;
    }

    100% {
        transform: translate(-50%,-220px);
        opacity: 0;
    }
}

.reactionBar {
    margin-top: 10px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid var(--border-subtle);
    background: rgba(255,255,255,0.85);
}

    .reactionBar button {
        border-radius: 999px;
        border: 1px solid rgba(2,6,23,0.14);
        background: #ffffff;
        padding: 8px 10px;
        cursor: pointer;
        font-size: 14px;
    }

        .reactionBar button:hover {
            border-color: rgba(0,170,255,0.45);
        }

/* ============ CHAT (RIGHT) ============ */
.chat {
    width: 280px;
    border-left: 1px solid var(--border-subtle);
    background: rgba(255,255,255,0.85);
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.chat-header {
    padding: 10px 12px 8px;
    border-bottom: 1px solid var(--border-subtle);
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.chat-title {
    font-size: 13px;
    font-weight: 800;
}

.chat-username {
    font-size: 11px;
    color: var(--text-muted);
}

.chatbox {
    display: flex;
    flex-direction: column;
    min-height: 0;
    height: 100%;
}

.chatbox-list {
    flex: 1;
    overflow: auto;
    padding: 10px 10px 0;
}

.chatbox-item {
    border: 1px solid rgba(2,6,23,0.10);
    background: #ffffff;
    border-radius: 12px;
    padding: 8px 10px;
    margin-bottom: 8px;
    box-shadow: 0 10px 24px rgba(2,6,23,0.04);
}

    .chatbox-item .meta {
        font-size: 11px;
        color: var(--text-muted);
        margin-bottom: 4px;
    }

    .chatbox-item .text {
        font-size: 12px;
        color: var(--text-main);
    }

.chatbox-actions {
    display: flex;
    gap: 8px;
    padding: 10px;
    border-top: 1px solid var(--border-subtle);
    background: #ffffff;
}

    .chatbox-actions input {
        flex: 1;
        border-radius: 999px;
        border: 1px solid rgba(2,6,23,0.14);
        padding: 8px 10px;
        font-size: 12px;
        outline: none;
    }

        .chatbox-actions input:focus {
            border-color: rgba(0,170,255,0.6);
            box-shadow: 0 0 0 3px rgba(0,170,255,0.18);
        }

    .chatbox-actions button {
        border-radius: 999px;
        border: none;
        padding: 8px 12px;
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: #04121d;
        font-weight: 800;
        cursor: pointer;
    }

/* ============ EXPLORE GRID ============ */
.stream-grid {
    margin-top: 10px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 10px;
}

.stream-card {
    border-radius: 14px;
    overflow: hidden;
    background: #ffffff;
    border: 1px solid var(--border-subtle);
    cursor: pointer;
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}

    .stream-card:hover {
        transform: translateY(-3px);
        border-color: rgba(0,170,255,0.55);
        box-shadow: 0 14px 32px rgba(0, 170, 255, 0.18);
    }

.thumb-placeholder {
    height: 96px;
    background: radial-gradient(circle at 10% 0%, rgba(0,170,255,0.45), rgba(0,170,255,0.06) 45%, #ffffff 100%);
    display: flex;
    align-items: flex-end;
    padding: 8px 10px;
    font-size: 12px;
    font-weight: 900;
}

.stream-card-body {
    padding: 8px 10px 9px;
}

.stream-title {
    font-size: 13px;
    margin-bottom: 2px;
    font-weight: 800;
}

.stream-meta {
    font-size: 11px;
    color: var(--text-muted);
    display: flex;
    justify-content: space-between;
}

/* ============ LOGIN PAGE (LIGHT) ============ */
.login-shell {
    height: 100vh;
    display: flex;
    background: radial-gradient(circle at top, #ffffff 0, #f1f5f9 55%, #eaf3ff 100%);
}

.login-left {
    flex: 1.15;
    padding: 26px 34px;
    display: flex;
    flex-direction: column;
    position: relative;
}

.login-right {
    flex: 0.85;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px 28px;
    background: rgba(255,255,255,0.85);
    border-left: 1px solid var(--border-subtle);
}

.login-card {
    width: min(420px, 100%);
    border-radius: 22px;
    padding: 18px 18px 16px;
    border: 1px solid var(--border-subtle);
    background: #ffffff;
    box-shadow: 0 18px 60px rgba(2,6,23,0.08);
}

.login-brand {
    font-weight: 900;
    letter-spacing: 0.12em;
    font-size: 12px;
    color: var(--text-muted);
    margin-bottom: 8px;
}

.login-heading {
    font-size: 18px;
    font-weight: 900;
    margin-bottom: 4px;
}

.login-subheading {
    font-size: 12px;
    color: var(--text-muted);
    margin-bottom: 12px;
}

.login-divider {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
    color: var(--text-muted);
    margin: 10px 0 12px;
}

.login-divider-line {
    flex: 1;
    height: 1px;
    background: var(--border-subtle);
}

.login-form-field {
    margin-bottom: 10px;
}

.login-label {
    font-size: 11px;
    margin-bottom: 4px;
    color: var(--text-muted);
}

.login-input {
    width: 100%;
    border-radius: 999px;
    border: 1px solid rgba(2,6,23,0.14);
    background: #ffffff;
    padding: 8px 10px;
    font-size: 12px;
    color: var(--text-main);
    outline: none;
}

    .login-input::placeholder {
        color: #94a3b8;
    }

    .login-input:focus {
        border-color: rgba(0,170,255,0.6);
        box-shadow: 0 0 0 3px rgba(0,170,255,0.18);
    }

.login-submit-btn {
    width: 100%;
    margin-top: 4px;
    border-radius: 999px;
    border: none;
    padding: 9px 10px;
    font-size: 13px;
    font-weight: 900;
    cursor: pointer;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: #04121d;
}

.login-error {
    margin-top: 6px;
    font-size: 11px;
    color: var(--error);
}

.login-footer {
    margin-top: 12px;
    font-size: 11px;
    color: var(--text-muted);
    display: flex;
    justify-content: space-between;
}

.login-link {
    color: var(--primary-dark);
    cursor: pointer;
    font-size: 11px;
}

    .login-link:hover {
        text-decoration: underline;
    }

/* ============ RESPONSIVE ============ */
@media (max-width: 960px) {
    .login-left {
        display: none;
    }

    .login-right {
        flex: 1;
        border-left: none;
    }

    .sidebar-left {
        display: none;
    }

    .chat {
        display: none;
    }

    .channel-panels {
        grid-template-columns: 1fr;
    }

    .player-wrapper {
        height: 320px;
    }
}

/* ================== GUNDAM DECOR ================== */

.logo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 900;
    letter-spacing: 0.12em;
}

.mecha-emblem {
    width: 22px;
    height: 22px;
    display: block;
    filter: drop-shadow(0 8px 16px rgba(2,6,23,0.10));
}

/* áp dụng cho các nút chính của bạn */
.pill-btn,
.login-submit-btn,
.app-logout,
.reactionBar button {
    position: relative;
    overflow: hidden;
    isolation: isolate; /* để overlay đẹp */
}

    .pill-btn::after,
    .login-submit-btn::after,
    .app-logout::after,
    .reactionBar button::after {
        content: "";
        position: absolute;
        inset: 0;
        background-image: url("./assets/mecha-stripes.svg");
        background-size: 220px 220px;
        opacity: 0.16;
        pointer-events: none;
        mix-blend-mode: multiply;
    }

    .pill-btn:hover::after,
    .login-submit-btn:hover::after,
    .app-logout:hover::after,
    .reactionBar button:hover::after {
        opacity: 0.26;
    }

/* đường viền “HUD” nhẹ */
.panel,
.stream-strip,
.channel-info,
.stream-card,
.login-card {
    position: relative;
    box-shadow: 0 16px 50px rgba(2,6,23,0.08);
}

    .panel::before,
    .stream-strip::before,
    .channel-info::before,
    .stream-card::before,
    .login-card::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        border: 1px solid rgba(14,165,233,0.22);
        box-shadow: inset 0 0 0 1px rgba(239,68,68,0.10), 0 0 0 2px rgba(255,255,255,0.45);
    }
/* ===== Palette overrides ===== */
body {
    background: var(--bg);
    color: var(--text-main);
}

.topbar {
    background: rgba(255,255,255,0.92);
    border-bottom: 1px solid var(--border-subtle);
}

.search-input {
    background: #fff;
    border: 1px solid var(--border-subtle);
    color: var(--text-main);
}

.sidebar {
    background: rgba(255,255,255,0.85);
    border-right: 1px solid var(--border-subtle);
}

.panel, .login-card, .stream-card, .chatbox {
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
}

.pill-btn {
    background: rgba(255,255,255,0.92);
    color: var(--primary);
    border: 1px solid rgba(44,82,179,0.35);
}

    .pill-btn:hover {
        box-shadow: 0 0 0 2px rgba(44,82,179,0.15);
    }

    .pill-btn.primary {
        background: var(--primary);
        color: #fff;
        border-color: var(--primary);
    }

.chatbox-actions input {
    background: #fff;
    border: 1px solid var(--border-subtle);
    color: var(--text-main);
}

.chatbox-actions button {
    background: var(--primary);
    color: #fff;
    border: 1px solid rgba(44,82,179,0.35);
}


/* ===============================
   GUNDAM PALETTE OVERRIDES (paste at END of App.css)
   Palette:
   #ffffff, #fff867, #fb2f38, #2c52b3, #5a5b6d
================================= */

:root {
    --c-white: #ffffff;
    --c-yellow: #fff867;
    --c-red: #fb2f38;
    --c-blue: #2c52b3;
    --c-gray: #5a5b6d;
    --g-topbar: linear-gradient(90deg, rgba(44,82,179,.95) 0%, rgba(90,91,109,.92) 100%);
    --g-panel: linear-gradient(180deg, rgba(255,255,255,.88) 0%, rgba(255,255,255,.72) 100%);
}

/* ===== TOPBAR ===== */
.topbar {
    background: var(--g-topbar) !important;
    border-bottom: 3px solid rgba(251,47,56,.55) !important; /* red accent */
    color: var(--c-white) !important;
    position: relative;
    overflow: hidden;
}

    /* overlay mecha-bg nhẹ trên topbar (nếu bạn có mecha-bg.svg) */
    .topbar::after {
        content: "";
        position: absolute;
        inset: 0;
        background-image: url("./assets/mecha-bg.svg");
        background-size: cover;
        background-position: center;
        opacity: .10;
        pointer-events: none;
        filter: grayscale(1);
    }

.topbar-left {
    position: relative;
    z-index: 1;
}

.logo {
    color: var(--c-yellow) !important;
    font-weight: 900 !important;
    letter-spacing: .10em !important;
    text-shadow: 0 6px 18px rgba(2,6,23,.25);
}

.top-nav {
    position: relative;
    z-index: 1;
    background: rgba(255,255,255,.14) !important;
    border: 1px solid rgba(255,255,255,.25) !important;
    backdrop-filter: blur(10px);
}

.nav-item {
    color: rgba(255,255,255,.88) !important;
    border: 1px solid rgba(255,255,255,.18) !important;
    background: transparent !important;
}

    .nav-item:hover {
        background: rgba(255,255,255,.16) !important;
        color: var(--c-white) !important;
    }

    .nav-item.active {
        background: var(--c-yellow) !important;
        color: #111827 !important;
        border-color: rgba(255,248,103,.55) !important;
        box-shadow: 0 10px 24px rgba(2,6,23,.18);
    }

.app-user-label {
    position: relative;
    z-index: 1;
    color: rgba(255,255,255,.86) !important;
}

    .app-user-label b {
        color: var(--c-yellow) !important;
    }

.app-logout {
    position: relative;
    z-index: 1;
    background: rgba(251,47,56,.92) !important;
    border: 1px solid rgba(251,47,56,.55) !important;
    color: var(--c-white) !important;
    box-shadow: 0 10px 24px rgba(2,6,23,.20);
}

    .app-logout:hover {
        filter: brightness(1.05);
    }

/* ===== LEFT SIDEBAR ===== */
.sidebar-left {
    background: linear-gradient(180deg, rgba(44,82,179,.18) 0%, rgba(90,91,109,.10) 100%) !important;
    border-right: 2px solid rgba(44,82,179,.28) !important;
    backdrop-filter: blur(10px);
}

.sidebar-title {
    color: rgba(44,82,179,.95) !important;
    letter-spacing: .22em;
    font-weight: 800 !important;
}

.avatar-circle {
    background: rgba(255,255,255,.78) !important;
    border: 1px solid rgba(90,91,109,.25) !important;
    box-shadow: 0 10px 26px rgba(2,6,23,.12);
}

    .avatar-circle.online {
        outline: 3px solid rgba(251,47,56,.50) !important; /* ring đỏ */
    }

/* ===== RIGHT CHAT PANEL ===== */
.chat {
    background: rgba(255,255,255,.78) !important;
    border-left: 2px solid rgba(44,82,179,.22) !important;
    backdrop-filter: blur(10px);
}

.chat-header {
    background: linear-gradient(90deg, rgba(44,82,179,.95), rgba(90,91,109,.92)) !important;
    color: var(--c-white) !important;
    border-bottom: 1px solid rgba(255,255,255,.18) !important;
}

.chat-title {
    color: var(--c-white) !important;
}

.chat-username {
    color: rgba(255,255,255,.86) !important;
}

.chatbox {
    background: transparent !important;
}

.chatbox-item {
    background: var(--g-panel) !important;
    border: 1px solid rgba(44,82,179,.18) !important;
}

    .chatbox-item .meta b {
        color: var(--c-blue) !important;
    }

.chatbox-actions {
    background: rgba(255,255,255,.88) !important;
    border-top: 1px solid rgba(44,82,179,.16) !important;
}

    .chatbox-actions input {
        border: 1px solid rgba(44,82,179,.30) !important;
    }

        .chatbox-actions input:focus {
            border-color: rgba(255,248,103,.95) !important;
            box-shadow: 0 0 0 3px rgba(255,248,103,.35) !important;
        }

    .chatbox-actions button {
        background: var(--c-blue) !important;
        border: 1px solid rgba(44,82,179,.55) !important;
        color: var(--c-white) !important;
    }

        .chatbox-actions button:hover {
            background: var(--c-red) !important;
            border-color: rgba(251,47,56,.65) !important;
        }
